<div *ngIf="this.isLoading" class="loader-container base">
    <mat-spinner color="accent" diameter="60"/>
</div>
<div *ngIf="!this.isLoading" class="root base">
    <div class="header">
        <div class="icons-and-value">
            <div
                class="header-icons-container"
                [ngClass]="this.isIncome ?
                    'header-icons-container-income' :
                    'header-icons-container-outcome'"
            >
                <mat-icon
                    *ngIf="this.isIncome"
                    aria-hidden="false"
                    aria-label="South icon"
                    fontIcon="south"
                    class="material-icons icon-sm"
                ></mat-icon>
                <mat-icon
                    *ngIf="!this.isIncome"
                    aria-hidden="false"
                    aria-label="North icon"
                    fontIcon="north"
                    class="material-icons icon-sm"
                ></mat-icon>
                <mat-icon
                    aria-hidden="false"
                    aria-label="Payments icon"
                    fontIcon="payments"
                    class="material-icons icon"
                ></mat-icon>
            </div>
            <div class="title">
                <p class="light-text bolder">
                    {{
                        this.isIncome ?
                        'Ingresos' :
                        'Egresos'
                    }}
                </p>
                <p class="total">${{this.strThisMonthTotal}}</p>
            </div>
        </div>
        <div class="last-month">
            <div
                class="icon-and-percentage"
                [ngClass]="
                    this.differenceWithLastMonth === 'neutral' ?
                    'difference-neutral' :
                    (
                        this.differenceWithLastMonth === 'positive' ?
                        'difference-positive' :
                        'difference-negative'
                    )
                "
            >
                <div
                    *ngIf="true"
                    class="last-month-icon-container"
                >
                    <mat-icon
                        *ngIf="this.differenceWithLastMonth === 'positive'"
                        aria-hidden="false"
                        aria-label="Up icon"
                        fontIcon="expand_less"
                        class="material-icons last-month-icon"
                    ></mat-icon>
                    <mat-icon
                        *ngIf="this.differenceWithLastMonth === 'negative'"
                        aria-hidden="false"
                        aria-label="Down icon"
                        fontIcon="expand_more"
                        class="material-icons last-month-icon"
                    ></mat-icon>
                </div>
                <p class="last-month-percentage">
                    <span
                        *ngIf="this.differenceWithLastMonth === 'positive'"
                    >+</span>
                    <span
                        *ngIf="this.differenceWithLastMonth === 'negative'"
                    >-</span>
                    <span>
                        {{this.strMonthsDifference}}
                        %
                    </span>
                </p>
            </div>
            <p class="light-text">
                Mes pasado
            </p>
        </div>
    </div>
    <div class="canvas-container">
        <canvas
            baseChart
            class="chart"
            [data]="lineChartData"
            [options]="lineChartOptions"
            [type]="lineChartType"
        ></canvas>
    </div>
</div>
